<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Reservations</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/caves-style-reservations.css" />

    <!-- Added Moment JS -->
    <script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>


    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */

        #map {
            height: 400px;
            width: 400px;
        }

        /* Optional: Makes the sample page fill the window. */

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #floating-panel {
            position: absolute;
            top: 10px;
            left: 25%;
            z-index: 5;
            background-color: #fff;
            padding: 5px;
            border: 1px solid #999;
            text-align: center;
            font-family: 'Roboto', 'sans-serif';
            line-height: 30px;
            padding-left: 10px;
        }

        #warnings-panel {
            width: 100%;
            height: 10%;
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row jumbotron jumbotron-fluid">
            <h1 class="title">Reservation Form</h1>
        </div>

        <div class="row" id="reservation">
            <form>
                <div class="form-row form-group">
                    <div class="col">
                        <label for="first">First Name</label>
                        <input id="first" type="text" class="form-control" placeholder="First name">
                    </div>
                    <div class="col">
                        <label for="last">Last Name</label>
                        <input id="last" type="text" class="form-control" placeholder="Last name">
                    </div>
                    <div class="col">
                        <label for="address">Street Address</label>
                        <input id="address" type="text" class="form-control" placeholder="street address">
                    </div>

                </div>

                <div class="form-row form-group">

                    <div class="col">
                        <label for="city">City</label>
                        <input id="city" type="text" class="form-control" placeholder="city">
                    </div>
                    <div class="col">
                        <label for="state">State</label>
                        <input id="state" type="text" class="form-control" placeholder="state">
                    </div>
                    <div class="col">
                        <label for="zip">Zip</label>
                        <input id="zip" type="text" class="form-control" placeholder="zip">
                    </div>
                </div>

                <div class="form-row form-group">
                    <div class="col">
                        <label for="email">Email address:</label>
                        <input type="email" class="form-control" id="email" placeholder="email">
                    </div>

                    <div class="col form-group">
                        <label for="date">Date of Event</label>
                        <input type="date" class="form-control" id="date">
                    </div>


                    <div class="col form-group">
                        <label for="tickets">Number of tickets</label>
                        <select class="form-control" id="tickets">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option>10+ call for reservations</option>
                        </select>
                    </div>
                </div>




                <div class "row">
                    <div class="col-md-12 center">
                        <button id="submit-btn" type="button" class="btn btn-primary">Submit</button>
                    </div>
                </div>

            </form>

            <div class="row">
                <div id="mapDiv" class="col-md-8">
                    <div id="map" class="col card top-margin">
                        <h3>Google Maps</h3>
                        <!--need to keep this div for the purpose of the google maps to work-->
                    </div>
                </div>
                <div class="col-md-4">
                    <div id="weather" class="card top-margin">
                        <h3>Weather</h3>
                    </div>
                </div>

            </div>
        </div>

        <script>
            function initMap() {
                var markerArray = [];

                // Instantiate a directions service.
                var directionsService = new google.maps.DirectionsService;

                // Create a map and center it on Manhattan.
                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 13,
                    center: { lat: 40.771, lng: -73.974 }
                });

                // Create a renderer for directions and bind it to the map.
                var directionsDisplay = new google.maps.DirectionsRenderer({ map: map });

                // Instantiate an info window to hold step text.
                var stepDisplay = new google.maps.InfoWindow;

                // Display the route between the initial start and end selections.
                calculateAndDisplayRoute(
                    directionsDisplay, directionsService, markerArray, stepDisplay, map);
                // Listen to change events from the start and end lists.
                var onChangeHandler = function () {
                    calculateAndDisplayRoute(
                        directionsDisplay, directionsService, markerArray, stepDisplay, map);
                };
                // document.getElementById('start').addEventListener('change', onChangeHandler);
                // document.getElementById('end').addEventListener('change', onChangeHandler);
            }

            function calculateAndDisplayRoute(directionsDisplay, directionsService,
                markerArray, stepDisplay, map) {
                // First, remove any existing markers from the map.
                for (var i = 0; i < markerArray.length; i++) {
                    markerArray[i].setMap(null);
                }

                // Retrieve the start and end locations and create a DirectionsRequest using
                // WALKING directions.
                var home = "1800 West Lake, 55408"
                var gangTour = "215 Wabasha Stree South, 55107"
                directionsService.route({
                    origin: home,
                    destination: gangTour,
                    travelMode: 'DRIVING'
                }, function (response, status) {
                    // Route the directions and pass the response to a function to create
                    // markers for each step.
                    if (status === 'OK') {
                        // document.getElementById('warnings-panel').innerHTML =
                        //     '<b>' + response.routes[0].warnings + '</b>';
                        directionsDisplay.setDirections(response);
                        //showSteps(response, markerArray, stepDisplay, map);
                    } else {
                        window.alert('Directions request failed due to ' + status);
                    }
                });
            }

            //   function showSteps(directionResult, markerArray, stepDisplay, map) {
            //     // For each step, place a marker, and add the text to the marker's infowindow.
            //     // Also attach the marker to an array so we can keep track of it and remove it
            //     // when calculating new routes.
            //     var myRoute = directionResult.routes[0].legs[0];
            //     for (var i = 0; i < myRoute.steps.length; i++) {
            //       var marker = markerArray[i] = markerArray[i] || new google.maps.Marker;
            //       marker.setMap(map);
            //       marker.setPosition(myRoute.steps[i].start_location);
            //       attachInstructionText(
            //           stepDisplay, marker, myRoute.steps[i].instructions, map);
            //     }
            //   }

            function attachInstructionText(stepDisplay, marker, text, map) {
                google.maps.event.addListener(marker, 'click', function () {
                    // Open an info window when the marker is clicked on, containing the text
                    // of the step.
                    stepDisplay.setContent(text);
                    stepDisplay.open(map, marker);
                });
            }
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>


        <script src="assets/javascript/javascript.js"></script>

        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBcYdrDV2qOd7NeAKmAWxdX93FYD9WdgZI&callback=initMap">
        </script>
</body>

</html>